# GFS Stack

The quickest and simplest GO stack to bring you from idea to MVP ready for production.

Built with:
Fiber - https://docs.gofiber.io/
Vite
HTMX
Air Go

## Intro and Credits

Thanks for checking out the stack and being interested. Feel free to open issues related to this repo and make adjustements to the stack with pull requests.

Big credit to antony for introducting us to this stack.

## To Start

<!-- Requirements -->

entr1 v?
node v?
go v?

git clone ecc myproject
to clone the stack repo, a boilerplate repo to start all of your projects

touch .env
echo "SUPABASE_KEY = "<yourkey>"" >> ./.env
create an environment file to store all your secrets and add your supabase key, gitignored by default

npm install || yarn install

go mod init '<module name>'
we init a new go module environment with a module name, which if you want it to be compatible with Dep and older versions that doesn't support go modules has to be declared as: github.com/<profile name>/<repo name> - https://www.youtube.com/watch?v=Z1VhG7cf83M

make build
to complie the app in go executable (binary)

make run
to first build and then execute the binary

ls | entr -r make
to use entr(1) to hot reload if any changes to the used directories occours (all files and directories excluded: bin, dist, node_modules, .gitignore, README.md, go.sum). Shut down is being forced. How can you make it shut down gracefully?

# Useful Commands

make clean
it will run go mod tidy, cleaning your go.mod setup based on packages usage.

## Stack Structure

README.md is used as documents fot this stack.

Makefile is the file to handle all execution, like building and running the app as default actions. You can add more scripts to suit your needs.

.gitignore is the directory to ignore. default: bin && .env

.env is the enviroment variables file, all your secrets will be placed here.

go.mod defines the moduleâ€™s module path, which is also the import path used for the root directory, and its dependency requirements, which are the other modules needed for a successful build. Each dependency requirement is written as a module path and a specific semantic version. It needs to be initialized for every package that is outside the $GOPATH/src. After initialization, 'go get <packagename>', 'go build', 'go test' will handle all go.sum updates, to clean go.sum fron unused package simple run 'make clean', that will run the command 'go mod tidy' (https://go.dev/blog/using-go-modules)

go.sum contains the expected cryptographic hashes of the content of specific module versions. It is handled and auto generated by go CLI, do not modify the file.

main.go is the main execution file, this is the file that is run when you run the application, the core of your app.

bin folder contains the go binary to be run by the machine.

data folder contains all the data you have to define.

stripe folder creates and initialize the connection with stripe and provides a single variable to interact with it.

database folder creates and initialize the connection with your database and provides a single variable to interact with it.

scripts folder contains all single worker scripts you have to run locally on your server.

utils folder contains all shared util functions.

## Basics - How to move around

add cdn: <script src="https://unpkg.com/htmx.org@1.9.2" integrity="sha384-L6OqL9pRWyyFU3+/bjdSri+iIphTN/bvYyM37tICVyOJkWZLpP2vGn6VUEXgzg6h" crossorigin="anonymous"></script>
to use htmx on html page
note: not good i production, how to solve?

note: using htmx with get request and response from backend with playin html, you'll be able to create a quick and simple app

note: js files must be type="module" to be build by vite

note: custom routing added

htmx: simply import script on html
htmx: htmx request's paths must follow your same backend response's paths
htmx: minification eval error, evaluate

5. entr1 graceful shutdown // hard
6. supebase ssl // medium
7. Bash init // ez
8. backend related stuff // medium
9. superbase mysequell // ez
10. deployment // medium
11. dns? // medium
12. how to scale // ez
13. Login with third party auth
14. user token management clarify

<!-- github.com/stripe/stripe-go/v74 v74.25.0 // indirect
github.com/sujit-baniya/flash v0.1.8 // indirect -->

https://sujit-baniya.gitbook.io/fiber-boilerplate/additional-libraries

pocketbase -> on stable version

error: miscellania with eval
error: Generated an empty chunk: "login/user".
